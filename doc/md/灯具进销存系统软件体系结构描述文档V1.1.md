# 灯具进销存系统软件体系结构描述文档

## touchFish组

## 2017年11月12日第二版

## 目录
1. 引言  
    1.1 编制目的  
    1.2 词汇表  
    1.3 参考资料  
2. 产品概述  
3. 逻辑视角  
4. 组合视角  
    4.1 开发包图  
    4.2 运行时进程  
    4.3 物理部署  
5. 接口视角  
    5.1 模块的职责  
    5.2 用户界面层的分解  
        - 5.2.1 用户界面层模块的职责  
        - 5.2.2 用户界面层模块的接口规范  
        - 5.2.3 用户界面模块设计原理  
    5.3 业务逻辑层的分解  
        - 5.3.1 业务逻辑层模块的职责  
        - 5.3.2 业务逻辑层模块的接口规范
    5.4 数据层的分解  
        - 5.4.1数据层模块的职责  
        - 5.4.2数据层模块的接口规范    
6. 信息视角  
    6.1 数据持久化对象  
    6.2 序列化持久化格式

## 1.引言
### 1.1 编制目的
本报告详细完成对灯具进销存系统的概要设计，达到知道详细设计和开发的目的，同时实现和测试人员及用户的沟通。  
本报告面向开发人员、测试人员及最终用户编写，是了解系统的导航。
### 1.2 词汇表

header 1 | header 2|header3
---|---|---
row 1 col 1 | row 1 col 2|r1c3
row 2 col 1 | row 2 col 2|r2c3
### 1.3 参考资料
灯具进销存系统用例文档V1.1  
灯具进销存系统软件需求规格说明v1.1  
## 2.产品概述  
参考灯具进销存系统用例文档和灯具进销存系统需求规格说明中对产品的概括描述。  
## 3.逻辑视角
灯具进销存系统中，选择了分层体系结构风格，将系统分为三层（展示层、业务逻辑层、数据层）能够很好的示意整个高层抽象。展示层包含GUI页面的实现，数据层负责数据的持久化和访问。分层结构的逻辑视角和逻辑设计方案如图1和图2所示。  
![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/逻辑视角图.png)    
**图1**  

![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/逻辑设计方案图.png)  
**图2**  

## 4.组合视角
### 4.1 开发包图
连锁商店管理系统的最终开发包设计如表1所示

开发包 |依赖的其他开发包
---|---
row 1 col 1 | row 1 col 2
row 2 col 1 | row 2 col 2

客户端开发包图如图所示  
![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/客户端开发包图.png)

服务器端开发包图如图所示  
![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/服务器端开发包图.png)

### 4.2 运行时进程
在灯具进销存系统中 会有多个客户端进程和一个服务器端进程，其进程图如图所示。结合部署图，客户端进程是在客户端机器上运行，服务器进程在服务器端机器上运行。  

![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/进程图.png)


### 4.3 物理部署
灯具进销存系统中客户端构件是放在客户端机器上，服务器端构件是放在服务器端机器上。在客户端节点上，还要部署RMIStub构件。由于Java RMI构件属于JDK6.0的一部分。所以，在系统JDK环境已经设置好的情况下，不需要再独立部署。部署图如图所示。  
![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/部署图.png)


##  5.接口视角 
### 5.1 模块的职责 
客户端模块和服务器端模块分别如图5.1-1、5.1-2所示。客户端各层和服务器端各层的职责分别如表5.1-1和表5.1-2所示。   
![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/客户端模块视图.png)  
**图5.1-1**  
![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/服务器端模块视图.png)  
**图5.1-2**  

层 | 职责
---|---
启动模块 | 负责初始化网络通信机制，启动用户界面
用户界面层 | 基于窗口的灯具进销存系统客户端用户界面
业务逻辑层|对于用户界面的输入进行响应并进行业务逻辑处理
客户端网络模块|利用Java RMI机制查找RMI服务
**表5.1-1**  

层 | 职责
---|---
启动模块 | 负责初始化网络通信机制，启动用户界面
数据层 | 负责数据的持久化及数据访问接口
客户端网络模块|利用Java RMI机制开启RMI服务，注册RMI服务
**表5.1-2**








每层只是使用下方直接接触的层。层与层之间仅仅是通过接口的调用来完成的。层之间调用的接口如表5.1-3所示。  




### 5.2 用户界面层的分解
  根据需求，系统存在26个用户界面。  
  界面跳转图如图所示。  
  ![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/界面跳转图.png)  
  服务器端和客户端的用户界面设计接口是一致的，只是具体的页面不一样。用户界面类如图所示。    
  ![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/用户界面类图.png)
  
####   5.2.1 用户界面层模块的职责
如下表为用户界面层模块的职责。  

模块 | 职责
---|---
MainFrame | 界面Frame，负责界面的显示和跳转




#### 5.2.2 用户界面层模块的接口规范
用户界面层模块的接口规范如下表所示。  
<table width="100%" border="0">
<tr>
<td rowspan="3">MainFrame</td>
<td>语法</td>
<td>init(args:String[])</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>显示Frame及LoginPanel</td>
</tr>
</table>

用户界面层需要的服务接口如下表所示。

服务名 | 服务
---|---
businesslogicservice.LoginBLService | 登录界面的业务逻辑接口
businesslogicservice.*BLService | 每个界面相应的业务逻辑接口



#### 5.2.3 用户界面模块设计原理  
用户界面利用Java的Swing和AWT库来实现。

### 5.3 业务逻辑层的分解
业务逻辑层包括多个针对界面的业务逻辑处理对象。业务逻辑层设计如下图。  
![image](http://101.37.19.32:10080/161250178/ERPnju/raw/master/doc/img/体系结构文档图片/业务逻辑层设计.png)  
#### 5.3.1 业务逻辑层模块的职责

业务逻辑层模块的职责如下表所示。

模块 | 职责
---|---
userbl| 负责实现对应与登录界面需要的服务
commoditybl | 负责实现库存管理界面所需要的服务
clinetbl|负责实现客户管理界面所需要的服务
salesbl|负责实现销售界面所需要的服务
purchasebl|负责实现进货界面所需要的服务
accountbl|负责实现账户管理界面所需要的服务
paymentbl|负责实现收付款界面所需要的服务
billbl|负责实现账目管理所需要的服务
promotionbl|负责实现制定销售策略所需要的服务
tablebl|负责实现表单查看所需要的服务
verifybl|负责实现审核表单所需要的服务

#### 5.3.2 业务逻辑层模块的接口规范  
##### userbl的接口规范
<table width="100%" border="0">
<tr>
<td colspan="4">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">User.add</td>
<td>语法</td>
<td>public ResultMessage add(UserVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>该账户原先不存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统增加该用户信息</td>
</tr>
<tr>
<td rowspan="3">User.delete</td>
<td>语法</td>
<td>public ResultMessage delete(UserVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>该账户原先已存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除该用户信息</td>
</tr>
<tr>
<td rowspan="3">User.update</td>
<td>语法</td>
<td>public ResultMessage update(UserVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统更新用户信息</td>
</tr>
<tr>
<td rowspan="3">User.findById</td>
<td>语法</td>
<td>public ArrayList<UserVO> findById(String id)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的ID符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回该ID的用户信息</td>
</tr>
<tr>
<td rowspan="3">User.findByName</td>
<td>语法</td>
<td>public ArrayList<UserVO> findByName(String name)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的用户名符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回该用户名的用户信息</td>
</tr>
<tr>
<td rowspan="3">User.findByType</td>
<td>语法</td>
<td>public ArrayList<UserVO> findByType(UserType type)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的用户类型符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回符合该用户类型的用户信息</td>
</tr>
<tr>
<td rowspan="3">User.show</td>
<td>语法</td>
<td>public ArrayList<UserVO> show()</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回系统用户信息</td>
</tr>
<tr>
<td rowspan="3">User.login</td>
<td>语法</td>
<td>public UserType login(String id,String password)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的id与密码符合输入规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回用户类型</td>
</tr>
<tr>
<td colspan="4">需要的服务（需接口）</td>
</tr>
<tr>
<td colspan="2">服务名</td>
<td colspan="2">服务</td>
</tr>
</tr>
<tr>
<td colspan="2">DataFactory.getUserData()</td>
<td colspan="2">得到User数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">UserDataService.insert(UserPO po)</td>
<td colspan="2">插入UserPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">UserDataService.delete(UserPO po)</td>
<td colspan="2">删除UserPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">UserDataService.update(UserPO po)</td>
<td colspan="2">修改UserPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">UserDataService.findByName(String name)</td>
<td colspan="2">根据用户名查找UserPO持久化对象</td>
</tr>
<tr>
<td colspan="2">UserDataService.findByType(UserType type)</td>
<td colspan="2">根据用户类型查找UserPO持久化对象</td>
</tr>
<tr>
<td colspan="2">UserDataService.show()</td>
<td colspan="2">得到所有UserPO持久化对象</td>
</tr>
</table>

#####  Commoditybl模块的接口规范

<table width="100%" border="0">
<tr>
<td colspan="4">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">Commodity.addType</td>
<td>语法</td>
<td>public ResultMessage addType(CommodityTypeVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品分类原先不存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统增加该商品分类信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.deleteType</td>
<td>语法</td>
<td>public ResultMessage deleteType(CommodityTypeVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品分类原先已存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除该商品分类信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.updateType</td>
<td>语法</td>
<td>public ResultMessage updateType(CommodityTypeVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品分类原先已存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统更新商品分类信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.add</td>
<td>语法</td>
<td>public ResultMessage add(CommodityVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品原先不存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统增加该商品信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.delete</td>
<td>语法</td>
<td>public ResultMessage delete(CommodityVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品原先存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除该商品信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.update</td>
<td>语法</td>
<td>public ResultMessage update(CommodityVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品原先存在，输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改商品信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.show</td>
<td>语法</td>
<td>public ArrayList<CommodityVO> show()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有商品信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.showByName</td>
<td>语法</td>
<td>public CommodityVO showByName(String name)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的查询信息符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回符合该商品名称的商品信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.showByType</td>
<td>语法</td>
<td>public ArrayList<CommodityVO> showByType(String type)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的查询信息符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回符合该商品类型的商品信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.showSort</td>
<td>语法</td>
<td>public ArrayList<CommodityTypeVO> showSort() throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有商品分类信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.addCommodityBill</td>
<td>语法</td>
<td>public ResultMessage addCommodityBill(CommodityBillVO vo) throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统添加报损报溢单信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.showCommodityBill</td>
<td>语法</td>
<td>public ArrayList<CommodityBillVO> showCommodityBill() throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有报损报溢单信息</td>
</tr>
<tr>
<td rowspan="3">Commodity.getCommodityBill</td>
<td>语法</td>
<td>public ArrayList<CommodityBillVO> getCommodityBill(String startDate,String endDate) throws RemoteException, ParseException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回该时间段内的所有报损报溢单信息</td>
</tr>
<tr>
<td colspan="4">需要的服务（需接口）</td>
</tr>
<tr>
<td colspan="2">服务名</td>
<td colspan="2">服务</td>
</tr>
</tr>
<tr>
<td colspan="2">RemoteHelper.getClassificationDataService()</td>
<td colspan="2">得到Classification数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">RemoteHelper.getGoodsDataService()</td>
<td colspan="2">得到Goods数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">RemoteHelper.getCommodityDataService()</td>
<td colspan="2">得到Commodity数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">ClassificationDataService.insertSort(ClassificationPO po)</td>
<td colspan="2">插入CommodityPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">ClassificationDataService.deleteSort(ClassificationPO po)</td>
<td colspan="2">删除CommodityPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">ClassificationService.modifySort(ClassificationPO po)</td>
<td colspan="2">修改CommodityPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">GoodsDataService.insertGoods(GoodsPO po)</td>
<td colspan="2">插入CommodityPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">GoodsDataService.deleteGoods(GoodsPO po)</td>
<td colspan="2">删除CommodityPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">GoodsDataService.modifyGoods(GoodsPO po)</td>
<td colspan="2">修改CommodityPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">GoodsDataService.showGoods()</td>
<td colspan="2">得到所有CommodityPO持久化对象</td>
</tr>
<tr>
<td colspan="2">GoodsDataService.searchGoodsByName(String name)</td>
<td colspan="2">根据商品名称查找CommodityPO持久化对象</td>
</tr>
<tr>
<td colspan="2">GoodsDataService.searchGoodsByClassification(String type)</td>
<td colspan="2">根据商品类型查找CommodityPO持久化对象</td>
</tr>
<tr>
<td colspan="2">ClassificatonDataService.showSort()</td>
<td colspan="2">得到所有ClassificationPO持久化对象 </td>
</tr>
<tr>
<td colspan="2">CommodityDataService.addCommodityBill(CommodityBillPO po)</td>
<td colspan="2">添加CommodityBillPO单一持久化对象 </td>
</tr>
<tr>
<td colspan="2">CommodityDataService.showCommodityBill()</td>
<td colspan="2">系统返回所有CommodityBillPO持久化对象 </td>
</tr>
<tr>
<td colspan="2">CommodityDataService.getCommodityBill(String startDate, String endDate)</td>
<td colspan="2">根据时间段查找CommodityBillPO持久化对象 </td>
</tr>
</table>

#####  **clientbl模块的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">Client.add</td>
<td>语法</td>
<td>public ResultMessage add(ClientVO vo)throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的客户信息合法</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化存储客户数据</td>
</tr>
<tr>
<td rowspan="3">Client.delete</td>
<td>语法</td>
<td>public ResultMessage delete(ClientVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>系统中存在符合的客户</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化删除该客户数据</td>
</tr>
<tr>
<td rowspan="3">Client.update</td>
<td>语法</td>
<td>public ResultMessage update(ClientVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>更新的数据合法</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化更新该客户数据</td>
</tr>
<tr>
<td rowspan="3">Client.findByID</td>
<td>语法</td>
<td>public ClientVO findByID(String ID);</td>
</tr>
<tr>
<td>前置条件</td>
<td>客户编号输入合法</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统根据输入的编号查找该客户，并返回客户信息</td>
</tr>
<tr>
<td rowspan="3">Client.findByName</td>
<td>语法</td>
<td>public ClientVO findByName(String name);</td>
</tr>
<tr>
<td>前置条件</td>
<td>客户名称输入合法</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统根据输入的名称查找该客户，并返回客户信息</td>
</tr>
<tr>
<td rowspan="3">Client.findByKeyword</td>
<td>语法</td>
<td>public ArrayList<ClientVO> findByString(String str);</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的关键词合法</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统根据输入的关键词查找该客户，并返回客户信息</td>
</tr>
<tr>
<td rowspan="3">Client.show</td>
<td>语法</td>
<td>public ArrayList<ClientVO> show();</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有客户信息</td>
</tr></table>

<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="2">需要的服务（需接口）</td>
</tr>
<tr>
<td>服务名</td>
<td>服务</td>
</tr>
<tr>
<td>RemoteHelper.getClientDataService()</td>
<td>得到Client数据的服务的引用</td>
</tr>
<tr>
<td>ClientDataService.add(ClientPO po)</td>
<td>添加ClientPO单一持久化对象</td>
</tr>
<tr>
<td>ClientDataService.delete(ClientPO po)</td>
<td>删除ClientPO单一持久化对象</td>
</tr>
<tr>
<td>ClientDataService.update(ClientPO po)</td>
<td>更新ClientPO单一持久化对象</td>
</tr>
<tr>
<td>ClientDataService.findByID(String ID)</td>
<td>根据编号查找ClientPO单一持久化对象</td>
</tr>
<tr>
<td>ClientDataService.findByName(String name)</td>
<td>根据名称查找ClientPO单一持久化对象</td>
</tr>
<tr>
<td>ClientDataService.findByKeyword(String keyword)</td>
<td>根据关键字查找ClientPO单一持久化对象</td>
</tr>
<tr>
<td>ClientDataService.show()</td>
<td>返回所有ClientPO单一持久化对象</td>
</tr></table>

#####  salesbl模块的接口规范
<table width="100%" border="0" bordercolor="#FFFFFF"> 
<tr bordercolor="#FFFFFF"> 
<th colspan="3"> 提供的服务（供接口）</th>
<tr>
<td rowspan="3">Sales.addSales</td>
<td>语法</td>
<td>public ResultMessage addSales(SalesVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>输入信息符合销售单的标准(客户、业务员、操作员、仓库、数量、单价、初步折让金额及备注)</td>
</tr><tr>
<td>后置条件</td>
<td>系统增加销售单并持久化该销售单信息</td>
</tr><tr>
<td rowspan="3">Sales.addRefunds</td>
<td>语法</td>
<td>public ResultMessage addRefunds(SalesVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>输入信息符合销售退货单的标准(客户、业务员、操作员、数量、单价、初步折让金额及备注)</td>
</tr><tr>
<td>后置条件</td>
<td>系统增加销售退货单并持久化该销售退货单信息</td>
</tr><tr>
<td rowspan="3">Sales.checkSales</td>
<td>语法</td>
<td>public ResultMessage checkSales(SalesVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>无</td>
</tr><tr>
<td>后置条件</td>
<td>对该销售类单据进行审批操作</td>
</tr><tr>
<td rowspan="3">Sales.reverseSales</td>
<td>语法</td>
<td>public ResultMessage reverseSales(SalesVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>用户身份满足权限</td>
</tr><tr>
<td>后置条件</td>
<td>对该销售类单据进行红冲操作</td>
</tr>
<th colspan="3">需要的服务（需接口）</th><tr>
<td colspan="2">服务名</td>
<td colspan="2">服务</td>
</tr>
<td colspan="2">RemoteHelper.getSalesBillDataService()</td>
<td colspan="2">得到SalesBill数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">SalesBillDataService.addSaleBill(SalesBillPO po)</td>
<td colspan="2">插入SalesBillPO单一持久化对象</td>
</tr>
<td colspan="2">SalesBillDataService.checkSaleBill(SalesBillPO po)</td>
<td colspan="2">修改SalesBillPO单一持久化对象的审批信息</td>
</tr>
<tr>
<td colspan="2">SalesBillDataService.reverseSalesBill(String billID)</td>
<td colspan="2">生成一个其余相同仅把数量取负的SalesBillPO单一持久化对象</td>
</tr>
</table>


##### purchasebl模块的接口规范
<table width="100%" border="0" bordercolor="#FFFFFF"> 
<tr bordercolor="#FFFFFF"> 
<th colspan="3"> 提供的服务（供接口）</th>
<tr>
<td rowspan="3">Purchase.addPurchase</td>
<td>语法</td>
<td>public ResultMessage addPurchase(PurchaseVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>输入信息符合进货单的标准(客户、操作员、仓库、数量、单价及备注)</td>
</tr><tr>
<td>后置条件</td>
<td>系统增加进货单并持久化该进货单信息</td>
</tr><tr>
<td rowspan="3">Purchase.addRefunds</td>
<td>语法</td>
<td>public ResultMessage addRefunds(PurchaseVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>输入信息符合进货退货单的标准(客户、操作员、仓库、数量、单价及备注)</td>
</tr><tr>
<td>后置条件</td>
<td>系统增加进货退货单并持久化该进货退货单信息</td>
</tr><tr>
<td rowspan="3">Purchase.checkPurchase</td>
<td>语法</td>
<td>public ResultMessage checkPurchase(PurchaseVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>无</td>
</tr><tr>
<td>后置条件</td>
<td>系统对该进货类单据进行审批</td>
</tr><tr>
<td rowspan="3">Purchase.reversePurchase</td>
<td>语法</td>
<td>public ResultMessage reversePurchase(PurchaseVO vo)throws RemoteException</td>
</tr><tr>
<td>前置条件</td>
<td>用户身份满足权限</td>
</tr><tr>
<td>后置条件</td>
<td>系统对该进货类单据进行红冲操作</td>
</tr>
<th colspan="3">需要的服务（需接口）</th><tr>
<td colspan="2">服务名</td>
<td colspan="2">服务</td>
</tr>
<td colspan="2">RemoteHelper.getPurchaseBillDataService()</td>
<td colspan="2">得到PurchaseBill数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">PurchaseBillDataService.addPurchaseBill(PurchaseBillPO po)</td>
<td colspan="2">插入PurchasetPO单一持久化对象</td>
</tr>
<td colspan="2">PurchaseBillDataService.checkPurchaseBill(PurchaseBillPO po)</td>
<td colspan="2">修改PurchasePO单一持久化对象的审批信息</td>
</tr>
<tr>
<td colspan="2">PurchaseBillDataService.reversePurchaseBill(PurchaseBillPO po)</td>
<td colspan="2">生成一个其余相同仅把数量取负的PurchaseBillPO单一持久化对象</td>
</tr>
</table>

##### accountbl模块的接口规范

<table>
<tr>
<td colspan="4">提供的接口(供接口)</td>
</tr>
<tr>
<td rowspan="3">Account.add</td>
<td>语法</td>
<td>public ResultMessage add(AccountVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统增加账户并持久化该账户信息</td>
</tr>
<tr>
<td rowspan="3">Account.delete</td>
<td>语法</td>
<td>public ResultMessage delete(AccountVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>该账户存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化删除该账户信息</td>
</tr>
<tr>
<td rowspan="3">Account.update</td>
<td>语法</td>
<td>public ResultMessage update(AccountVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化更新该账户信息</td>
</tr>
<tr>
<td rowspan="3">Account.findById</td>
<td>语法</td>
<td>public ArrayList<AccountVO> findById(String id)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回符合查找条件的账户信息</td>
</tr>
<tr>
<td rowspan="3">Account.findByName</td>
<td>语法</td>
<td>public ArrayList<AccountVO> findByName(String name)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回符合查找条件的账户信息</td>
</tr>
<tr>
<td rowspan="3">Account.show</td>
<td>语法</td>
<td>public ArrayList<AccountVO> show()</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有账户信息</td>
</tr>
<tr>
<td colspan="4">需要的服务(需接口)</td>
</tr>
<tr>
<td colspan="2">服务名</td>
<td colspan="2">服务</td>
</tr>
<tr>
<td colspan="2">DataFactory.getAccountData()</td>
<td colspan="2">得到Account数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">AccountDataService.insert(AccountPO po)</td>
<td colspan="2">插入AccountPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">AccountDataService.delete(AccountPO po)</td>
<td colspan="2">删除AccountPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">AccountDataService.update(AccountPO po)</td>
<td colspan="2">修改AccountPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">AccountDataService.findById(String id)</td>
<td colspan="2">返回相应账户id的PO记录</td>
</tr>
<tr>
<td colspan="2">AccountDataService.findByName(String name)</td>
<td colspan="2">返回相应账户名称的PO记录</td>
</tr>
<tr>
<td colspan="2">AccountDataService.show()</td>
<td colspan="2">返回所有账户信息的PO记录</td>
</tr>
</table>

##### Paymentbl接口规范
<table>
<tr>
<td colspan="4">提供的接口(供接口)</td>
</tr>
<tr>
<td rowspan="3">Payment.addReceipt</td>
<td>语法</td>
<td>public ResultMessage addReceipt(ReceiptVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入信息符合收款单的标准(单据编号，客户，操作员，转账列表，总额汇总)</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统增加收款单并持久化该收款单信息</td>
</tr>
<tr>
<td rowspan="3">Payment.addPayBill</td>
<td>语法</td>
<td>public ResultMessage addPayBill(PaymentVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入信息符合付款单的标准(单据编号，客户，操作员，转账列表，总额汇总)</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统增加付款单并持久化该付款单信息</td>
</tr>
<tr>
<td rowspan="3">Payment.checkReceipt</td>
<td>语法</td>
<td>public ResultMessage checkReceipt(ReceiptVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统对收款单进行审批</td>
</tr>
<tr>
<td rowspan="3">Payment.checkPayBill</td>
<td>语法</td>
<td>public ResultMessage checkPayBill(PaymentVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统对付款单进行审批</td>
</tr>
<tr>
<td rowspan="3">Payment.reverseReceipt</td>
<td>语法</td>
<td>public ResultMessage reverseReceipt(ReceiptVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统对收款单进行红冲操作</td>
</tr>
<tr>
<td rowspan="3">Payment.checkPayBill</td>
<td>语法</td>
<td>public ResultMessage reversePayBill(PaymentVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统对付款单进行红冲操作</td>
</tr>

<tr>
<td colspan="2">服务名</td>
<td colspan="2">服务</td>
</tr>
<tr>
<td colspan="2">RemoteHelper.getCollectionDataService()</td>
<td colspan="2">得到Collection数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">RemoteHelper.getPaymentDataService()</td>
<td colspan="2">得到Payment数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">CollectionDataService.addCashCollectionPO po)</td>
<td colspan="2">插入CollectionPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">PaymentDataService.addPaymentBill(PaymentPO po)</td>
<td colspan="2">修改PaymentPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">CollectionDataService.checkCollection(CollectionPO po)</td>
<td colspan="2">对PO记录进行审批</td>
</tr>
<tr>
<td colspan="2">PaymentDataService.checkPaymentBill(PaymentPO po)</td>
<td colspan="2">对PO记录进行审批</td>
</tr>
<tr>
<td colspan="2">CollectionDataService.reverseCollectionBill(CollectionPO po)</td>
<td colspan="2">对PO记录进行红冲</td>
</tr>
<tr>
<td colspan="2">PaymentDataService.reversePaymentBill(PaymentPO po)</td>
<td colspan="2">对PO记录进行红冲</td>
</tr>
</table>

##### Billbl接口规范
<table>
<tr>
<td colspan="4">提供的接口(供接口)</td>
</tr>
<tr>
<td rowspan="3">Bill.initial</td>
<td>语法</td>
<td>public ResultMessage initial(BillVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的期初信息符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化保存该期初账目信息</td>
</tr>
<tr>
<td rowspan="3">Bill.show</td>
<td>语法</td>
<td>public ArrayList<BillVO> show()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有账目信息</td>
</tr>
<tr>
<td rowspan="3">Bill.showInitial</td>
<td>语法</td>
<td>public ArrayList<BillVO> showInitial()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回期初账目信息</td>
</tr>
<tr>
<td rowspan="3">Bill.update</td>
<td>语法</td>
<td>public ResultMessage update(BillVO vo)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统更新账目信息</td>
</tr>
<tr>
<td rowspan="3">Bill.delete</td>
<td>语法</td>
<td>public ResultMessage delete(BillVO vo)</td>
</tr>
<tr>
<td>前置条件</td>
<td>该账目存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除账目信息</td>
</tr>
<tr>
<td colspan="2">服务名</td>
<td colspan="2">服务</td>
</tr>
<tr>
<td colspan="2">DataFactory.getBillData()</td>
<td colspan="2">得到Payment数据的服务的引用</td>
</tr>
<tr>
<td colspan="2">BillDataService.insert(PaymentPO po)</td>
<td colspan="2">插入BillPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">BillDataService.update(BillPO po)</td>
<td colspan="2">修改PaymentPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">BillDataService.delete(BillPO po)</td>
<td colspan="2">删除PaymentPO单一持久化对象</td>
</tr>
<tr>
<td colspan="2">BillDataService.show()</td>
<td colspan="2">系统返回所有账目PO记录</td>
</tr>
<tr>
<td colspan="2">BillDataService.showInitial()</td>
<td colspan="2">系统返回所有期初账目PO记录</td>
</tr>
</table>

##### **promotionbl模块的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">Promotion.add</td>
<td>语法</td>
<td>public ResultMessage add(StrategyVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入的策略信息合法</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化存储策略信息</td>
</tr>
<tr>
<td rowspan="3">Promotion.delete</td>
<td>语法</td>
<td>public ResultMessage delete(String StrategyNum);</td>
</tr>
<tr>
<td>前置条件</td>
<td>系统中存在编号符合的策略</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化删除该策略</td>
</tr>
<tr>
<td rowspan="3">Promotion.update</td>
<td>语法</td>
<td>public ResultMessage update(StrategyVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>更新的信息合法</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化更新策略信息</td>
</tr>
<tr>
<td rowspan="3">Promotion.show</td>
<td>语法</td>
<td>public ArrayList<StrategyVO> show();</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有促销策略信息</td>
</tr>
<tr>
<td rowspan="3">Promotion.addGiftReceipt</td>
<td>语法</td>
<td>public ResultMessage addGiftReceipt(String rank, Double totalPrice);</td>
</tr>
<tr>
<td>前置条件</td>
<td>客户的级别或商品总价达到赠品条件</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化存储库存赠送信息</td>
</tr></table>

<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="2">需要的服务（需接口）</td>
</tr>
<tr>
<td>服务名</td>
<td>服务</td>
</tr>
<tr>
<td>DataFactory.getPromotionData()</td>
<td>得到Promotion数据的服务的引用</td>
</tr>
<tr>
<td>PromotionDataService.add(StrategyPO po)</td>
<td>添加StrategyPO单一持久化对象</td>
</tr>
<tr>
<td>PromotionDataService.delete(String StrategyNum)</td>
<td>删除StrategyPO单一持久化对象</td>
</tr>
<tr>
<td>PromotionDataService.update(StrategyPO po)</td>
<td>更新StrategyPO单一持久化对象</td>
</tr>
<tr>
<td>PromotionDataService.show()</td>
<td>返回所有StrategyPO单一持久化对象</td>
</tr>
<tr>
<td>PromotionDataService.addGiftReceipt(String rank, Double totalPrice)</td>
<td>添加GiftReceiptPO单一持久化对象</td>
</tr></table>

## **tablebl模块的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">Table.viewSaleTable</td>
<td>语法</td>
<td>public SaleTableVO viewSaleTable(String time, String goodsName, String client, String salesman, String warehouse);</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统根据输入的时间区间、商品名、客户、业务员、仓库查找销售出货单据，根据销售单据的时间（精确到天），商品名，型号，数量，单价，总额生成销售明细表并返回</td>
</tr>
<tr>
<td rowspan="3">Table.viewManagementProcess</td>
<td>语法</td>
<td>public ArrayList<ReceiptVO> viewManagementProcess(String time, String receiptType, String client, String salesman, String warehouse);</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统根据输入的时间区间、单据类型、客户、业务员、仓库查找单据，并返回单据</td>
</tr>
<tr>
<td rowspan="3">Table.viewManagementSituation</td>
<td>语法</td>
<td>public SituationTableVO viewManagementSituation(String time);</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统根据输入的时间区间统计折让后收入、折让量、支出、利润，生成经营情况表并返回</td>
</tr></table>

<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="2">需要的服务（需接口）</td>
</tr>
<tr>
<td>服务名</td>
<td>服务</td>
</tr>
<tr>
<td>RemoteHelper.getTableDataService()</td>
<td>得到Table数据的服务的引用</td>
</tr>
<tr>
<td>TableDataService.viewSaleTable(String time, String goodsName, String client, String salesman, String warehouse)</td>
<td>根据时间区间、商品名、客户、业务员、仓库查找SaleOutReceiptPO单一持久化对象，生成并返回SaleTablePO单一持久化对象</td>
</tr>
<tr>
<td>TableDataService.viewManagementProcess(String time, String receiptType, String client, String salesman, String warehouse)</td>
<td>根据时间区间、单据类型、客户、业务员、仓库查找并返回ReceiptPO单一持久化对象</td>
</tr>
<tr>
<td>TableDataService.viewManagementSituation(String time)</td>
<td>根据时间区间生成并返回SituationTablePO单一持久化对象</td>
</tr></table>

## **verifybl模块的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">Verify.viewReceipts</td>
<td>语法</td>
<td>public ArrayList<ReceiptVO> viewReceipts();</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有为提交状态的单据</td>
</tr>
<tr>
<td rowspan="3">Verify.pass</td>
<td>语法</td>
<td>public ResultMessage pass(ReceiptVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>该单据为提交状态</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化存储该单据为审批后状态</td>
</tr>
<tr>
<td rowspan="3">Verify.passAll</td>
<td>语法</td>
<td>public ResultMessage passAll(ArrayList<ReceiptVO> List);</td>
</tr>
<tr>
<td>前置条件</td>
<td>此批单据全为提交状态</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化存储此批单据为审批后状态</td>
</tr>
<tr>
<td rowspan="3">Verify.update</td>
<td>语法</td>
<td>public ResultMessage update(ReceiptVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>该单据为提交状态</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统持久化更新该单据信息</td>
</tr>
<tr>
<td rowspan="3">Verify.updateCommodity</td>
<td>语法</td>
<td>public void updateCommodity(ReceiptVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>该单据为库存类单据</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统更改库存数据</td>
</tr>
<tr>
<td rowspan="3">Verify.informCommodity</td>
<td>语法</td>
<td>public void informCommodity(ReceiptVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>该单据为库存类单据</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统通知库存管理人员其单据已被审批通过</td>
</tr>
<tr>
<td rowspan="3">Verify.updateCommodityAndClient</td>
<td>语法</td>
<td>public void updateCommodityAndClient(ReceiptVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>该单据为进货类单据或销售类单据</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统更改库存数据和客户的应收应付数据</td>
</tr>
<tr>
<td rowspan="3">Verify.updateClient</td>
<td>语法</td>
<td>public void updateClient(ReceiptVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>该单据为财务类单据</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统更改客户的应收应付数据</td>
</tr>
<tr>
<td rowspan="3">Verify.informFinance</td>
<td>语法</td>
<td>public void informFinance(ReceiptVO vo);</td>
</tr>
<tr>
<td>前置条件</td>
<td>该单据为财务类单据</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统通知财务人员其单据已被审批通过</td>
</tr></table>

<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="2">需要的服务（需接口）</td>
</tr>
<tr>
<td>服务名</td>
<td>服务</td>
</tr>
<tr>
<td>DataFactory.getVerifyData()</td>
<td>得到Verify数据的服务的引用</td>
</tr>
<tr>
<td>ReceiptDataService.viewReceipts()</td>
<td>返回所有状态信息为提交状态的ReceiptPO单一持久化对象</td>
</tr>
<tr>
<td>ReceiptDataService.pass(ReceiptPO po)</td>
<td>更新ReceiptPO单一持久化对象状态信息为审批后状态</td>
</tr>
<tr>
<td>ReceiptDataService.passAll(ArrayList<ReceiptPO> List)</td>
<td>更新此批ReceiptPO单一持久化对象状态信息为审批后状态</td>
</tr>
<tr>
<td>ReceiptDataService.update(ReceiptPO po)</td>
<td>更新ReceiptPO单一持久化对象</td>
</tr>
<tr>
<td>ReceiptDataService.updateCommodity(ReceiptPO po)</td>
<td>更新GoodsPO单一持久化对象的库存数量信息</td>
</tr>
<tr>
<td>ReceiptDataService.updateCommodityAndClient(ReceiptPO po)</td>
<td>更新GoodsPO单一持久化对象的库存数量信息和ClientPO单一持久化对象的应收应付信息</td>
</tr>
<tr>
<td>ReceiptDataService.updateClient(ReceiptPO po)</td>
<td>更新ClientPO单一持久化对象的应收应付信息</td>
</tr></table>

### 5.4 数据层的分解
数据层主要给业务逻辑层提供数据访问服务，包括对于持久化数据的增删改查。
#### 5.4.1 数据层模块的职责
数据层模块的职责如下所示。

模块 | 职责
---|---
userdataservice | 负责userbl持久化对象的增删改查。
commoditydataservice | 负责commoditybl相关持久化对象的增删改查。
clientdataservice|负责clientblb相关持久化对象的增删改查
salesdataservice|负责salesbl相关持久化对象的增删改查
purchasedataservice|负责purchasebl相关持久化对象的增删改查
accountdataservice|负责accountbl相关持久化对象的增删改查
paymentdataservice|负责paymentbl相关持久化对象的增删改查
billdataservice|负责billbl相关持久化对象的增删改查
tabledataservice|负责table相关持久化对象的增删改查
promotiondataservice|负责promotion相关持久化对象的增删改查
verifydataservice|负责verify相关持久化对象的增删改查

#### 5.4.2 数据层模块的接口规范

##### 数据层模块(UserDataService)的接口规范
<table>
<tr>
<td colspan="4">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">User.insert</td>
<td>语法</td>
<td>public ResultMessage insert(UserPO po)</td>
</tr>
<tr>
<td>前置条件</td>
<td>该用户原先不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统向数据库新增一条PO记录</td>
</tr>
<tr>
<td rowspan="3">User.delete</td>
<td>语法</td>
<td>public ResultMessage delete(UserPO po)</td>
</tr>
<tr>
<td>前置条件</td>
<td>该用户原先存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除数据库中一条PO记录</td>
</tr>
<tr>
<td rowspan="3">User.update</td>
<td>语法</td>
<td>public ResultMessage update(UserPO po)</td>
</tr>
<tr>
<td>前置条件</td>
<td>该用户原先存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改数据库中一条PO记录</td>
</tr>
<tr>
<td rowspan="3">User.findById</td>
<td>语法</td>
<td>public ArrayList<UserPO> findById(String id)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规则</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回相应ID的PO记录</td>
</tr>
<tr>
<td rowspan="3">User.findByName</td>
<td>语法</td>
<td>public ArrayList<UserPO> findByName(String name)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规则</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回相应用户名的PO记录</td>
</tr>
<tr>
<td rowspan="3">User.findByType</td>
<td>语法</td>
<td>public ArrayList<UserPO> findByType(UserType type)</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规则</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回相应用户类型的PO记录</td>
</tr>
<tr>
<td rowspan="3">User.show</td>
<td>语法</td>
<td>public ArrayList<UserPO> show()</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有用户的PO记录</td>
</tr>
</table>

##### 数据层模块(CommodityDataService)的接口规范
<table>
<tr>
<td colspan="4">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">Commodity.insertSort</td>
<td>语法</td>
<td>public ResultMessage insertSort(ClassificationPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品类型原先不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统向数据库新增一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.deleteSort</td>
<td>语法</td>
<td>public ResultMessage deleteSort(String name)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品类型原先存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除数据库中一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.modifySort</td>
<td>语法</td>
<td>public ResultMessage modifySort(ClassificationPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品类型原先存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改数据库中一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.insertGoods</td>
<td>语法</td>
<td>public ResultMessage insertGoods(GoodsPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品原先不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统向数据库新增一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.deleteGoods</td>
<td>语法</td>
<td>public ResultMessage deleteGoods(String name)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品原先存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除数据库中一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.modifyGoods</td>
<td>语法</td>
<td>public ResultMessage modifyGoods(GoodsPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>该商品原先存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改数据库中一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.showGoods</td>
<td>语法</td>
<td>public ArrayList<GoodsPO> showGoods()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有的对应PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.searchGoodsByName</td>
<td>语法</td>
<td>public GoodsPO searchGoodsByName(String name)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规则</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回相应名称的PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.searchGoodsByClassification</td>
<td>语法</td>
<td>public ArrayList<GoodsPO> searchGoodsByClassification(String type)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规则</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回相应商品类别的PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.showSort</td>
<td>语法</td>
<td>public ArrayList<ClassificationPO> showSort()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有商品类型的PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.addCommodityBill</td>
<td>语法</td>
<td>public ResultMessage addCommodityBill(CommodityBillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统添加一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.getCommodityBill</td>
<td>语法</td>
<td>public ArrayList<CommodityBillPO> getCommodityBill()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有报损报溢单的PO记录</td>
</tr>
<tr>
<td rowspan="3">Commodity.getCommodityList</td>
<td>语法</td>
<td>public ArrayList<CommodityBillPO> getCommodityList(String startDate, String endDate)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回符合时间段的所有PO记录</td>
</tr>
</table>

##### **数据层模块（ClientDataService）的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">ClientDataService.addClient</td>
<td>语法</td>
<td>public void addClient(ClientPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>同样编号的po在数据库中不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中增加一个po记录</td>
</tr>
<tr>
<td rowspan="3">ClientDataService.deleteClient</td>
<td>语法</td>
<td>public void deleteClient(String name) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中删除一个po记录</td>
</tr>
<tr>
<td rowspan="3">ClientDataService.updateClient</td>
<td>语法</td>
<td>public void updateClient(ClientPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>在数据库中存在同样ID的po</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中更新一个po记录</td>
</tr><tr>
<td rowspan="3">ClientDataService.findClientById</td>
<td>语法</td>
<td>public ClientPO findClientById(int ID) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>根据输入的编号查找返回ClientPO结果</td>
</tr>
<tr>
<td rowspan="3">ClientDataService.findClientByName</td>
<td>语法</td>
<td>public ClientPO findClientByName(String name) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>根据输入的名称查找返回ClientPO结果</td>
</tr>
<tr>
<td rowspan="3">ClientDataService.findClientByKeyword</td>
<td>语法</td>
<td>public ArrayList<ClientPO> findClientByKeyword(String keyword) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>根据输入的关键词查找返回含此关键词的ClientPO结果</td>
</tr>
<tr>
<td rowspan="3">ClientDataService.showClient</td>
<td>语法</td>
<td>public ArrayList<ClientPO> showClient() throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有的ClientPO记录</td>
</tr></table>

##### 数据层模块（salesdataservice）的接口规范
<table>
<tr>
<td colspan="4">提供的服务(供接口)</td>
</tr>
<tr>
<td rowspan="3">Sales.addSaleBill</td>
<td>语法</td>
<td>public ResultMessage addSaleBill(SalesBillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>相同的po记录之前不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统新增一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Sales.checkSaleBill</td>
<td>语法</td>
<td>public ResultMessage checkSaleBill(SalesBillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改一条PO记录的审批信息</td>
</tr>
<tr>
<td rowspan="3">Sales.reverseSalesBill</td>
<td>语法</td>
<td>public ResultMessage reverseSalesBill(SalesBillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>生成一个其余相同仅把数量取负的PO记录</td>
</tr>
</table>

##### 数据层（purchasedataservice）模块的接口规范
<table>
<tr>
<th colspan="4">提供的服务(供接口)</th>
</tr>
<tr>
<td rowspan="3">Purchase.addPurchaseBill</td>
<td>语法</td>
<td>public ResultMessage addPurchaseBill(PurchaseBillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>相同的po记录之前不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统新增一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Purchase.checkPurchaseBill</td>
<td>语法</td>
<td>public ResultMessage checkPurchaseBill(PurchaseBillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改一条PO记录的审批信息</td>
</tr>
<tr>
<td rowspan="3">Purchase.reversePurchaseBill</td>
<td>语法</td>
<td>public ResultMessage reversePurchaseBill(PurchaseBillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>生成一个其余相同仅把数量取负的PO记录</td>
</tr>
</table>

##### 数据层模块(AccountDataService)的接口规范
<table>
<tr>
<td colspan="4">提供的服务(供接口)</td>
</tr>
<tr>
<td rowspan="3">Account.insert</td>
<td>语法</td>
<td>public ResultMessage insert(AccountPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>相同的po记录之前不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统新增一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Account.delete</td>
<td>语法</td>
<td>public ResultMessage delete(AccountPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Account.update</td>
<td>语法</td>
<td>public ResultMessage update(AccountPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>数据库存在相同id的PO记录</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Account.findById</td>
<td>语法</td>
<td>public ArrayList<AccountPO> findById(String id)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回符合查找条件的Po记录</td>
</tr>
<tr>
<td rowspan="3">Account.findByName</td>
<td>语法</td>
<td>public ArrayList<AccountPO> findByName(String name)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>输入符合规范</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回符合查找条件的PO记录</td>
</tr>
<tr>
<td rowspan="3">Account.show</td>
<td>语法</td>
<td>public ArrayList<AccountPO> show()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有账户信息的PO记录</td>
</tr>
</table>

##### 数据层模块(PaymentDataService)的接口规范
<table>
<tr>
<td colspan="4">提供的服务(供接口)</td>
</tr>
<tr>
<td rowspan="3">Payment.addCash</td>
<td>语法</td>
<td>public ResultMessage addCash(CollectionPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>相同的po记录之前不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统新增一条收款单PO记录</td>
</tr>
<tr>
<td rowspan="3">Payment.addPaymentBill</td>
<td>语法</td>
<td>public ResultMessage addPaymentBill(PaymentPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>相同的po记录之前不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统新增一条付款单PO记录</td>
</tr>
<tr>
<td rowspan="3">Payment.checkCollection</td>
<td>语法</td>
<td>public ResultMessage checkCollection(CollectionPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改该收款单PO记录的审批信息</td>
</tr>
<tr>
<td rowspan="3">Payment.checkPaymentBill</td>
<td>语法</td>
<td>public ResultMessage checkPaymentBill(PaymentPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改该付款单PO记录的审批信息</td>
</tr>
<tr>
<td rowspan="3">Payment.reverseCollectionBill</td>
<td>语法</td>
<td>public ResultMessage reverseCollectionBill(CollectionPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>生成一个其余相同仅把数量取负的收款单PO记录</td>
</tr>
<tr>
<td rowspan="3">Payment.reversePaymentBill</td>
<td>语法</td>
<td>public ResultMessage reversePaymentBill(PaymentPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>生成一个其余相同仅把数量取负的付款单PO记录</td>
</tr>
</table>

##### 数据层模块(BillDataService)的接口规范
<table>
<tr>
<td colspan="4">提供的服务(供接口)</td>
</tr>
<tr>
<td rowspan="3">Bill.insert</td>
<td>语法</td>
<td>public ResultMessage insert(BillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>相同的po记录之前不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统新增一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Bill.update</td>
<td>语法</td>
<td>public ResultMessage update(BillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>数据库存在相同id的PO记录</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统修改一条PO记录</td>
</tr>
<tr>
<td rowspan="3">Bill.delete</td>
<td>语法</td>
<td>public ResultMessage delete(BillPO po)throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>存在该PO记录</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统删除该PO记录</td>
</tr>
<tr>
<td rowspan="3">Bill.show</td>
<td>语法</td>
<td>public ArrayList<BillPO> show()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回当前所有账目的PO记录</td>
</tr>
<tr>
<td rowspan="3">Bill.showInitial</td>
<td>语法</td>
<td>public ArrayList<BillPO> showInitial()throws RemoteException</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>系统返回所有期初账目的PO记录</td>
</tr>
</table>


##### **数据层模块（TableDataService）的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">TableDataService.viewSaleTable</td>
<td>语法</td>
<td>public SaleTablePO viewSaleTable(String time, String goodsName, String client, String salesman, String warehouse) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>根据时间区间、商品名、客户、业务员、仓库查找SaleOutReceiptPO单一持久化对象，生成并返回SaleTablePO单一持久化对象</td>
</tr>
<tr>
<td rowspan="3">TableDataService.viewManagementProcess</td>
<td>语法</td>
<td>public ArrayList<ReceiptPO> viewManagementProcess(String time, String receiptType, String client, String salesman, String warehouse) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>根据时间区间、单据类型、客户、业务员、仓库查找并返回ReceiptPO单一持久化对象</td>
</tr>
<tr>
<td rowspan="3">TableDataService.viewManagementSituation</td>
<td>语法</td>
<td>public SituationTablePO viewManagementSituation(String time) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>根据时间区间生成并返回SituationTablePO单一持久化对象</td>
</tr></table>

##### **数据层模块（PromotionDataService）的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">PromotionDataService.add</td>
<td>语法</td>
<td>public void add(StrategyPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>同样的po在数据库中不存在</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中增加一个po记录</td>
</tr>
<tr>
<td rowspan="3">PromotionDataService.delete</td>
<td>语法</td>
<td>public void delete(StrategyPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中删除一个po记录</td>
</tr>
<tr>
<td rowspan="3">PromotionDataService.update</td>
<td>语法</td>
<td>public void update(StrategyPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中更新一个po记录</td>
</tr>
<tr>
<td rowspan="3">PromotionDataService.show</td>
<td>语法</td>
<td>public ArrayList<StrategyVO> show() throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有的StrategyPO记录</td>
</tr>
<tr>
<td rowspan="3">PromotionDataService.addGiftReceipt</td>
<td>语法</td>
<td>public ResultMessage addGiftReceipt(String rank, Double totalPrice) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>客户的级别或商品总价达到赠品条件</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中添加一个GiftReceiptPO记录</td>
</tr></table>

##### **数据层模块（VerifyDataService）的接口规范**
<table width="100%" border="0" bordercolor="#FFFFFF">
<tr bordercolor="#FFFFFF">
<td colspan="3">提供的服务（供接口）</td>
</tr>
<tr>
<td rowspan="3">VerifyDataService.viewReceipts</td>
<td>语法</td>
<td>public ArrayList<ReceiptPO> viewReceipts() throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>返回所有状态信息为提交状态的ReceiptPO记录</td>
</tr>
<tr>
<td rowspan="3">VerifyDataService.pass</td>
<td>语法</td>
<td>public void pass(ReceiptPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>该ReceiptPO记录的状态信息为提交状态</td>
</tr>
<tr>
<td>后置条件</td>
<td>更新该ReceiptPO单一持久化对象状态信息为审批后状态</td>
</tr>
<tr>
<td rowspan="3">VerifyDataService.passAll</td>
<td>语法</td>
<td>public void passAll(ArrayList<ReceiptPO> List) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>此批ReceiptPO记录的状态信息全为提交状态</td>
</tr>
<tr>
<td>后置条件</td>
<td>更新此批ReceiptPO单一持久化对象状态信息为审批后状态</td>
</tr>
<tr>
<td rowspan="3">VerifyDataService.update</td>
<td>语法</td>
<td>public void update(ReceiptPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>该ReceiptPO记录的状态信息为提交状态</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中更新该ReceiptPO单一持久化对象</td>
</tr>
<tr>
<td rowspan="3">VerifyDataService.updateCommodity</td>
<td>语法</td>
<td>public void updateCommodity(ReceiptPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中更新GoodsPO单一持久化对象的库存数量信息</td>
</tr>
<tr>
<td rowspan="3">VerifyDataService.updateCommodityAndClient</td>
<td>语法</td>
<td>public void updateCommodityAndClient(ReceiptPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中更新GoodsPO单一持久化对象的库存数量信息和ClientPO单一持久化对象的应收应付信息</td>
</tr>
<tr>
<td rowspan="3">VerifyDataService.updateClient</td>
<td>语法</td>
<td>public void updateClient(ReceiptPO po) throws RemoteException;</td>
</tr>
<tr>
<td>前置条件</td>
<td>无</td>
</tr>
<tr>
<td>后置条件</td>
<td>在数据库中更新ClientPO单一持久化对象的应收应付信息</td>
</tr></table>

## 6.信息视角
### 6.1数据持久化对象
- userPO类包含用户的用户名，密码属性。  
- commodityPO类包含商品的编号，价格，库存量，名称，分类，警戒库存属性。  
- clientPO类包含客户的编号，名称，分类，联系方式属性。  
- salesPO类包含单据类型、商品名称、客户、操作员、业务员、仓库、商品编号、型号、单价、数量、金额、折让金额、折让后总额、备注属性。
- purchasePO类包含 单据类型、商品名称、客户、操作员、仓库、 、商品编号、型号、单价、数量、金额、备注属性。
- accountPO类包含账户的id，名称，余额，类型属性。  
- paymentPO类包含  单据编号，客户，操作员，转账列表，总额汇总，银行账户，金额，备注属性。  
- billPO类包含时间区间，单据类型，商品名，客户，业务员，仓库，销售收入、商品类收入，销售成本、商品类支出，利润添加商品信息（商品分类，商品名称，类别，型号，进价/售价，最近进价和最近售价），客户信息（客户分类，客户名称，联系方式，应收应付(之前遗留)），银行账户信息（名称，余额）属性。  
- tablePO类包含时间区间、单据类型、客户、业务员、仓库属性。
- promotionPO类包含策略种类、促销条件、起始时间、间隔时间属性。  
- ReceiptPO类包含状态信息、种类信息、详细信息属性。
- GoodsPO类中包含库存数量，名称信息。

### 6.2 序列化持久化格式
对象被序列化保存在.ser格式的文件中。
